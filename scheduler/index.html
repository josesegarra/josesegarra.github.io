<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>Sej Scheduler</title>
    <style>
        .CSSshadow {
            -moz-box-shadow:    1px 1px 1px 1x #aaa;
            -webkit-box-shadow: 1px 1px 1px 1px #aaa;
            box-shadow:         1px 1px 1px 1px #aaa;
        }

        html {
            height: 100%
        }
        body {
            height: 95%;
            font-family: "Lucida Console", Monaco, Courier,monospace;
            font-size: 12px;
        }
    </style>
    <script src="MyScheduler.js"                    type="text/javascript"></script>                <!-- This loads MyScheduler core functionality -->
    <script src="MyScheduler_ViewDays.js"           type="text/javascript"></script>                <!-- This loads and register the [Day View] -->
    <script src="MyScheduler_ViewScheduler.js"      type="text/javascript"></script>                <!-- This loads and register the [Day View] -->
    <script src="MyScheduler_ViewList.js"           type="text/javascript"></script>                <!-- This loads and register the [Day View] -->
    <script type="text/javascript">
        var scheduler;

        function getRandomInt(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        function addDays(fromDate, days) {
            var d1 = new Date(fromDate);
            d1.setDate(d1.getDate() + days);
            return d1;
        }

        function setTime(d, hour,minutes) {
            var d1 = new Date(d);
            d1.setHours(hour);
            d1.setMinutes(minutes);
            return d1;
        }

        function addMinutes(from, minutes) {
            return new Date(from.getTime() + minutes * 60000);
        }


        function loadSamples() {
            var where = document.getElementById("schedulerDiv");
            scheduler = $SejScheduler.create(where);                                                // Creates a Scheduler

            var data = [];
            data.push({ start: new Date(2015, 4, 22, 05, 15), end: new Date(2015, 4, 22, 23, 38), title: "XXX", room: "Room1" });
            var today = new Date();
            for (var i = 0; i < 80; i++) {
                var day  = addDays(today, getRandomInt(0, 7) );                                     // A random date between TODAY-7 and TODAY+14 days
                var hour = getRandomInt(0, 20);                                                         // A random hour between 0.. and 20:00
                var minute = getRandomInt(0, 50);                                                       // A random minute bewteen 0 and 50
                var length = getRandomInt(15, 200);                                                     // A random length between 15 and 100 minutes
                var room = getRandomInt(1, 10);                                                         // A random room

                var start = setTime(day, hour, minute);
                var end = addMinutes(start, length);

                var d = { start: start, end: end, title: "Meeting in room #" + room, room: "Room " + room };
                data.push(d);
            }



            /*var data = [
     { start: new Date(2015, 8, 12, 10, 30), end: new Date(2015, 8, 12, 11, 30), title: "Meeting in september", room: "Room1" }
    , { start: new Date(2015, 4, 21, 8, 15), end: new Date(2015, 4, 21, 11, 00), title: "08:15-11 meeting", room: "Room2" }
    , { start: new Date(2015, 4, 21, 9, 00), end: new Date(2015, 4, 21, 11, 45), title: "09-12 meeting", room: "Room3" }
    , { start: new Date(2015, 4, 21, 10, 00), end: new Date(2015, 4, 21, 15, 00), title: "10-15 meeting", room: "Room1" }
    , { start: new Date(2015, 4, 21, 13, 00), end: new Date(2015, 4, 21, 15, 00), title: "13-15 meeting", room: "Room2" }
    , { start: new Date(2015, 4, 21, 16, 00), end: new Date(2015, 4, 21, 17, 00), title: "16-17 meeting", room: "Room3" }
    , { start: new Date(2015, 4, 21, 16, 00), end: new Date(2015, 4, 21, 18, 00), title: "16-18 meeting", room: "Room2" }
    , { start: new Date(2015, 4, 21, 18, 00), end: new Date(2015, 4, 21, 19, 00), title: "18-19 meeting", room: "Room1" }
            ];
            */



            scheduler.addData(data);
            scheduler.createView("days");
            var view = scheduler.createView("scheduler");
            if (view.setCategories) view.setCategories(function (k) { return k.room; });

            scheduler.createView("list");
        }



    </script>

</head>
<body onload="loadSamples()">
    <div>THIS IS HEADER</div>
    <div style="float:left;margin-right:10px">LEFT MARGIN
    <br /><a href="#" onclick="scheduler.show(0);">Day View</a>
    <br /><a href="#" onclick="scheduler.show(1);">Schedule View</a>
    <br /><a href="#" onclick="scheduler.show(2);">List View</a>

    </div>
    <div id="schedulerDiv" style="float:left;border: 1px solid darkblue; padding: 10px;width: 80%; height: 95%;overflowX: auto">
    </div>
</body>
</html>
